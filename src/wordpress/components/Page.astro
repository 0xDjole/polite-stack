---
import type { WPPage } from '../types.js';
import { getFeaturedImage } from '../api.js';

export interface Props {
  page: WPPage;
  showFeaturedImage?: boolean;
}

const { page, showFeaturedImage = true } = Astro.props;
const featuredImage = getFeaturedImage(page);
---

<article class="wp-page">
  <h1 set:html={page.title.rendered} />

  {
    showFeaturedImage && featuredImage && (
      <img class="wp-page-image" src={featuredImage} alt={page.title.rendered} />
    )
  }

  <div class="wp-page-content" set:html={page.content.rendered} />
</article>

<style>
  .wp-page {
    max-width: 800px;
    margin: 0 auto;
  }

  h1 {
    font-size: 2rem;
    margin-bottom: 1.5rem;
  }

  .wp-page-image {
    width: 100%;
    height: auto;
    margin-bottom: 1.5rem;
    border-radius: 4px;
  }

  .wp-page-content {
    line-height: 1.6;
  }
</style>
